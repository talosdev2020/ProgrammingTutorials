<!DOCTYPE html>
<html lang="en"><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <title>
      Add Linux User
    </title>
</head>
<body cz-shortcut-listen="true">

<h1 id="creating-a-new-user">Creating a new user with sudo access in Linux</h1>

<div class="social_links">
  <span class="youtube litem">
      <a href="https://www.youtube.com/watch?v=VncikTxNod8" target="_blank" title="Video of this article in YouTube">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M12 0c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm4.441 16.892c-2.102.144-6.784.144-8.883 0-2.276-.156-2.541-1.27-2.558-4.892.017-3.629.285-4.736 2.558-4.892 2.099-.144 6.782-.144 8.883 0 2.277.156 2.541 1.27 2.559 4.892-.018 3.629-.285 4.736-2.559 4.892zm-6.441-7.234l4.917 2.338-4.917 2.346v-4.684z"/></svg>
      </a>
  </span>
  <span class="talosdev litem">
      <a href="https://talosdev.com/articles/create-a-linux-user-with-sudo-access-from-command-line/" target="_blank" title="View this article in TalosDEV">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 298.7 298.7"><defs/><path d="M144 257v-1l2 1zm4-1l-1-1-2 1-2-1h-5l-3-1h-2c-1-1 0-1 2-1l2-1 3-3c2 0 3-1 3-3l1-3c2 0 2-3 1-5-2-3-3-4-3-7-1-3-1-5-3-7l-4-12-1-6v-6l1-6c1-2 0-7-1-11l-2-7-2-6c-2-5-4-12-4-18l3-15 2-2h1v-3l-1-4-1-3 2-7v-4l-1-12v-2l-1-6-2-3-2-3c-2-2-2-3-1-5l1-2-1-1c-3-2-3-2-2-3v-2l-7-1c-4 0-5-2-7-3-1-2-2-3-9-3l-7 1h-1c0-1 0 0 0 0 0 1-1 2-5 1h-5l-6-1-4-1-5-1-5-1h-5v1l1 1h-2l-1-1v2l-3-3v-1 1l-1 1v-7l-1-7v-5l1-6c0-1 1-1 1 1v3l1 2v-3l1-1v4l1 3 1 2 3 3v1l4 1 5-1 8-1h12l6 1 3 1 1 1 3-1h9l3-1 3-1 5-2 3 1 1 2h1l4-2 4-1 1-1h2l2 1v-2l-1-1v-1l1 1h1v-5l3-3 2-1 3-1h9c4 3 5 5 5 8 0 4 0 4 2 2h6l3 1 2 1 2 1 16 1h10l2-1 6-2 9 3 4 1h7l7 1 2-1 3-4-2 3-1 3v1c-2 0-2 0-1 1h2l2-2 1-2 2-10 1-3v-2 12l-1 3v2h2v3l-1 1h-1l-1 2-1 2-3 1h-3c1-1 1-1-1-1l-13-1-2 1-3 1-6 1h-7l-5 1-9 1h-12v1l-2 7v-3a296 296 0 01-2 6v1l-1 2-1 2-2 3v21c0 4 0 7-2 10l-1 3 1 2 1 3a21 21 0 010 7h2l2 2 3 3v1l-1-1-2-1v23l-2 11-2 5-2 12 1 3v4l1 4v9l-2 5-1 5-1 7v5l-1 3c-2 4-2 4-1 6 0 5 0 6 2 7 3 2 5 5 4 6l-2 1h-1l-2 1h-5l-5-1-2-1c0-1 0 0 0 0v1h-2v1l-1 1zm14-1c1 0 1 0 0 0h-1v1zm-4 0h-1 1c1 0 0 0 0 0zm4-4l1-1-1-2-2-3v-2c0-2-1-2-2-1s-2 0-3-2l-1-2v2l-1 1v2l2-1 1 1 1 1v3a6 6 0 011 3c0 2 1 2 3 1zm-14-1h-1zm2-3l-1-1v1c0 1 0 0 0 0zm2-3l-1-1h-1l1 2zm1-5h-1zm3-10l2-2v-1c-2-1-2-1-2 2l-1 3zm2-5zm-16-15v-10c1-2 1-2-1-3l-1 1v5l1 9 1 6zm11 4v-2a272 272 0 01-2-7l1 9c1 2 1 2 1 0zm6 0zm-8-4l-1-4-1-4v4l1 4zm-6-9l1-4 1-2-1-1-1-2v5zm-7-1h-1l1 2zm17-3h1v-2l1-3h-1l-1 1v2l-1 3 1 1a6 6 0 000-2zm-17 1v-1 1c0 1 0 1 0 0zm10-6h1v-2h-1l-1 1v1l-1 1zm-3 0v-1 1c0 1 0 0 0 0zm5-4l-1-3h-1a1 1 0 01-1 0v2h1v2l1 1zm-6-3h-1zm17-8c0-4 0-5-1-4v7zm-9 1l2-4 1-5v-15l-2-2-2-2h-1l-1 3v12l1 3v2l1 7c-1 2 0 2 1 1zm16-12l1-9-1-2v1l-1 3-2 7 1 1zm-33-8l1-5-1-3zm29-4c-1-1-1 0-1 2v2-2zm-17-14v-2l-1-1-2 1 1 2v3zm7-5c-1-1-1 0-1 1h1zm-8-11v-1l-2-1c-1-2-1-2-1 1l1 2h1zm9-9l1-3h-1l-1-3v-3l-1-3v-2l-1 3 2 10 1 4zm12-10h-1v1zm-14-6c0-1 0-1 0 0zm12 0l-1-1v-1l-1-1h-2c0-1 0-1 0 0l1 1v1h1l1 1zm-2-2zm-7-1v-1h1v-1h-2v2s-1 0 0 0zm8-2l-1-1 1-3-1-2v1l-1-1h-2c-1 0 0 0 0 0v1l-1 1h2v-1l1 1-1 1h1c0 1 0 1 0 0h1l-1 1v1l-1 1h1v1zm-7-1h1v-1h2c1 0 1 0 0 0l1 1v-1l-1-2h-2v2h-1zm2-2h1c1 0 0 0 0 0zm-21 1c-1 0 0 0 0 0zm20-2v-1l-1 1zm-21-2h-1c-1-1-1 0 0 0zm2-2h-2l-1 1h2a4 4 0 011-1zm-3 0v-1h-1v-1l-1 1 1 1zm2-1zm-1 0v-2h1c-1 1 0 2 1 2v-2 1h1v-1l-1-1h1l2-2v-2h1v-2l1-2 1-1v-5h-1c-1 0 0 0 0 0v3h-1v1c1 0 1 0 0 0l-1 1v2c0 1-1 0 0 0h-1l-1 1c-1 0 0 0 0 0 0 1-1 1-1-1v-5l1-2v-3l1-2 1-3 1-1v-1c-1-1-1 0-3 4l-1 5v1l-1 1v2l-1 2v1h-1v1h-1v-2h1c0-2 0-3-1-2l-1-1h1v-1h-1c0 1 0 0 0 0l1-2v-7l1-1v-1l-2 1v3l-1 1v12l1 1-1 1c0 1 0 0 0 0h1l-1 1v1l1-1v2l1 2v1h-1v-1 2h2zm-2-3h1v1zm4-5h1v1zm1 0l1-1v1zm-6-4a1 1 0 011 0h-1c-1 0-1 0 0 0zm18 11h-1l1 1zm15-3v-1zm0-2v-1 1c0 1 0 0 0 0zm-17-6l-1-1-1 1 1 1zm43-2h-1 1c1 0 1 0 0 0zm8-2l1-1-1 1h-2zm-96 0l-2-1h-1zm9-1v-1h-1v1c-1 0 0 0 0 0zm6 0v-2l1-1c-1-1-2 0-2 1h-2l-1 1c-1 1 0 1 2 1zm-64-1h-1l1 1zm89 1v-1h-1l1 1c1 1 0 0 0 0zm-89-2v-1zm31-1l1-1h-6l-1 1zm125 0h-3l1 1zm-67 0h-2zm-58-1v-1l-1 1h-1zm111-2l-3-1-4 1h-1zm-32 0zm45-1h-2v1l1-1zm28 1l-1-1v1zm-120-3zm94 1l1-1h-2v1zM53 57v-4l-1-2v5c0 2 1 2 1 1zm81 1c0-1 0-1 0 0-1 0 0 0 0 0zm3-1h-1zm32-3l-1-2 1 2c1 1 1 1 0 0zM55 53v-1c0-1 0-1 0 0l-1-1-1-1v1l1 1zm93-1h-1l1 1zm3-2h3l-2-2h-2v1h2l-1 1h-2zm78 202a19 19 0 011-1v-2h-10c-1-1-1-1 2-1l3-1h5c0-1 0-1 0 0h3c0-1 0-1 0 0l-2 5zm2-4h-1c-1 0 0 0 0 0zm9 5l1-2 1-1h-2c-2 0-3-1-3-2h6l1 2-3 3zm-29-2v-1c-1 0 0 0 0 0l1-1h-6l7-3 1-1h4l3-1-3 3-2 1h1l-2 1-2 2zm22 0l1-3 2-3h1l-2 5zm-2-6h-1v-1l1-1v1c2 1 1 3 0 1zm2 0l-1-1 1 1c0 1 0 1 0 0zm-65-17c0-1 0-1 0 0zm-1-4l1-1v1zm48-155c-1 0 0 0 0 0zm2 0h1c0 1 0 0 0 0zm18-3h1zm13-10v1zm-5-2v-1l1-1v1zm1-4v-1a3 3 0 000-1l1-2v1l-1 2z"/><circle cx="149.3" cy="149.3" r="148.6" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" paint-order="stroke fill markers"/></svg>
      </a>
  </span>
</div>

<p>In order to create a new linux user from the command line, we need to have <em>sudo</em> access.<br>
The command  we will use for that is ‘<em><strong>adduser</strong></em>’ and we will create a user with username “<em><strong>testuser</strong></em>” as follows:</p>
<pre><code>$ sudo adduser testuser
</code></pre>
<p>After giving the above command we are asked to give our password (because we used <em>sudo</em>):</p>
<pre><code>  [sudo] password for talosdev: 
</code></pre>
<p>After we give our password we see some output like this:</p>
<pre><code>  Adding user `testuser' ...
  Adding new group `testuser' (1000) ...
  Adding new user `testuser' (1000) with group `testuser' ...
  Creating home directory `/home/testuser' ...
  Copying files from `/etc/skel' ...
</code></pre>
<p>And then we are asked to give the new user’s password twice:</p>
<pre><code>  New password: 
  Retype new password: 
  passwd: password updated successfully
  Changing the user information for testuser
</code></pre>
<p>Then, we are asked to give some optional details about the user (we can just press enter if we want to leave them blank):</p>
<pre><code>  Enter the new value, or press ENTER for the default
	  Full Name []: 
	  Room Number []: 
	  Work Phone []: 
	  Home Phone []: 
	  Other []: 
</code></pre>
<p>And finally, we are asked if the above information is correct:</p>
<pre><code>  Is the information correct? [Y/n] Y
$ _
</code></pre>
<p><em>And that’s it, the new user is created as well as his/her home directory.</em></p>
<h2 id="giving-the-new-user-sudo-access">Giving the new user <em>sudo</em> access</h2>
<p>In order to give the new user <em><strong>sudo</strong></em> access we will use the <em><strong>usermod</strong></em> command (using <em>sudo</em> of course, and giving our current user’s password if asked).<br>
The <em>usermod</em> command actually adds the new user to a group named ‘<em><strong>sudo</strong></em>’, as shown here:</p>
<pre><code>$ sudo usermod -aG sudo testuser 
  [sudo] password for talosdev:
$ _
</code></pre>
<p>And again, that’s all, the user ‘<em>testuser</em>’ is now a member of the ‘<em>sudo</em>’ group, and has gained <em>sudo</em> access.</p>
<h2 id="deleting-a-user-with-his-home-directory">Deleting a user with his home directory</h2>
<p>When we want to delete a user in Linux, we have to take under 
consideration if we also want to delete the user’s home directory (and 
all the files in it) or not, or if we want to delete all the files 
created by the user elsewhere in our system.</p>
<p>I would recommend, to keep the files the user created elsewhere, 
because it can create problems sometimes, if these files are used by 
other users or in certain services, and so, we should only delete the 
user’s home directory.</p>
<p>The command for deleting a user is ‘<em><strong>deluser</strong></em>’ and optionally, if we also want to delete the user’s home directory we can add the option <strong>‘<em>- -remove-home</em>’</strong>, aditionally, another option we could use is <em><strong>’–remove-all-files’</strong></em>  in order to delete all the files created by the user in our system. The syntax goes like this:</p>
<pre><code>$ sudo deluser [--remove-home] [--remove-all-files] testuser
</code></pre>
<p>In our case we will only use the first option:</p>
<pre><code>$ sudo deluser --remove-home testuser
  [sudo] password for talosdev: 
  Looking for files to backup/remove ...
  Removing files ...
  Removing user `testuser' ...
  Warning: group `testuser' has no more members.
  Done.
$ _
</code></pre>
<p>After we give our current user’s password (if asked, due to ‘sudo’ at
 the beginning of the command), we see some output and the word ‘<em>Done</em>’ meaning that the user is now deleted as well as the user’s home directory.</p>




</body></html>
